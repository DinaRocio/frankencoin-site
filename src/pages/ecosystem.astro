---
import Tab from "../components/Button/Tab.astro";
import Section from "../components/Layout/Section.astro";
import SectionHeader from "../components/Layout/SectionHeader.astro";
import Base from "../layouts/Base.astro";
import CardEcosystem from "../components/Ecosystem/CardEcosystem.astro";
import ecosystem from "../content/ecosystem.json";
import Card from "../components/Layout/Card.astro";
import FlexStack from "../components/Layout/FlexStack.astro";
import NavLink from "../components/Button/NavLink.astro";
---

<Base>
  <Section
    variant="accent"
    width="content"
    align="left"
    pad="lg"
    id="ecosystem-header"
  >
    <Fragment slot="header">
      <SectionHeader
        title={ecosystem.header.title}
        subtitle={ecosystem.header.subtitle}
        size="display"
        align="center"
      />
    </Fragment>
  </Section>

  <Section
    variant="plain"
    width="content"
    align="left"
    pad="sm"
    id="ecosystem-intro"
  >
    <Fragment>
      <p class="ty-body-2">{ecosystem.intro.title}</p>
      <div class="flex items-center gap-2">
        <p class="ty-body-2">{ecosystem.intro.subtitle}</p>

        <NavLink href={ecosystem.intro.cta.href} target="_blank"
          >{ecosystem.intro.cta.label}</NavLink
        >
      </div>
    </Fragment>
  </Section>
  <Section pad="sm">
    <div class="tabs-menu w-tab-menu flex flex-wrap gap-2">
      {
        [...["Show All"], ...ecosystem.categories].map((category, index) => (
          <Tab label={category} active={index === 0} index={index} />
        ))
      }
    </div>
  </Section>
  <Section
    variant="plain"
    width="content"
    align="left"
    id="ecosystem-tabs"
    pad="sm"
  >
    <FlexStack direction="col" gap="40px">
      {
        ecosystem.tabs.map((tab, index) => (
          <div class="ecosystem-card" data-category={tab.category}>
            <CardEcosystem
              href={tab.href}
              image={tab.image}
              imageAlt={tab.imageAlt}
              badge={tab.badge}
              description={tab.description}
              linkLabel={tab.linkLabel}
            />
          </div>
        ))
      }
    </FlexStack>
  </Section>
</Base>
